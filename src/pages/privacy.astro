---
import BaseLayout from "../layouts/BaseLayout.astro";
import { LINKS } from "../lib/constants";
---

<BaseLayout
  title="Privacy Policy - Susumu Tomita"
  description="Privacy Policy for Susumu Tomita's business operations."
>
  <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-16 md:py-24">
    <!-- Language Toggle -->
    <div class="flex justify-end mb-6">
      <div class="inline-flex rounded-md shadow-sm" role="group">
        <button
          type="button"
          id="lang-en"
          class="px-4 py-2 text-sm font-medium rounded-l-md border border-light-border dark:border-dark-border bg-accent-500 text-white"
        >
          English
        </button>
        <button
          type="button"
          id="lang-ja"
          class="px-4 py-2 text-sm font-medium rounded-r-md border border-light-border dark:border-dark-border bg-light-surface dark:bg-dark-surface text-light-text dark:text-dark-text hover:bg-light-border dark:hover:bg-dark-border"
        >
          日本語
        </button>
      </div>
    </div>

    <!-- English Version -->
    <div id="content-en">
      <h1 class="font-display text-3xl md:text-4xl font-bold mb-8">Privacy Policy</h1>
      <p class="text-lg text-light-muted dark:text-dark-muted mb-4">(Sole Proprietor)</p>

      <div class="prose prose-neutral dark:prose-invert max-w-none space-y-8">
        <p class="text-light-muted dark:text-dark-muted">
          Last updated: January 22, 2026
        </p>

        <section>
          <h2 class="font-display text-xl font-semibold mb-4">1. Business Operator Information</h2>
          <p class="text-light-muted dark:text-dark-muted">
            The personal information controller for this policy is as follows:
          </p>
          <ul class="list-disc list-inside space-y-2 text-light-muted dark:text-dark-muted ml-4">
            <li>Business Name: Susumu Tomita</li>
            <li>Contact: <a href={`mailto:${LINKS.email}`} class="text-accent-500 hover:text-accent-600">{LINKS.email}</a></li>
          </ul>
        </section>

        <section>
          <h2 class="font-display text-xl font-semibold mb-4">2. Information We Collect</h2>
          <p class="text-light-muted dark:text-dark-muted">
            The operator may collect the following information through this website and business operations:
          </p>
          <ul class="list-decimal list-inside space-y-2 text-light-muted dark:text-dark-muted">
            <li>Information provided when contacting us (name, email address, company name, inquiry details, etc.)</li>
            <li>Access log information (IP address, browser type, referrer, pages viewed, date/time, etc.)</li>
            <li>Information collected via cookies (identifiers, browsing history, etc.)</li>
          </ul>
        </section>

        <section>
          <h2 class="font-display text-xl font-semibold mb-4">3. Purpose of Use</h2>
          <p class="text-light-muted dark:text-dark-muted">
            The operator uses collected information for the following purposes:
          </p>
          <ul class="list-decimal list-inside space-y-2 text-light-muted dark:text-dark-muted">
            <li>To respond to inquiries and communications</li>
            <li>To provide, operate, and improve services</li>
            <li>To prevent unauthorized access and ensure security</li>
            <li>To fulfill legal or contractual obligations</li>
          </ul>
        </section>

        <section>
          <h2 class="font-display text-xl font-semibold mb-4">4. Use of Cookies</h2>
          <p class="text-light-muted dark:text-dark-muted">
            This website may use cookies for improving usability and analytics purposes.
            You can disable cookies through your browser settings, but some features may become unavailable.
          </p>
        </section>

        <section>
          <h2 class="font-display text-xl font-semibold mb-4">5. Third-Party Disclosure</h2>
          <p class="text-light-muted dark:text-dark-muted">
            The operator will not provide personal information to third parties except when required by law or with the consent of the individual.
          </p>
        </section>

        <section>
          <h2 class="font-display text-xl font-semibold mb-4">6. Outsourcing</h2>
          <p class="text-light-muted dark:text-dark-muted">
            The operator may outsource the handling of personal information to external service providers to the extent necessary to achieve the purposes of use.
            In such cases, appropriate supervision of the outsourcing party will be conducted.
          </p>
        </section>

        <section>
          <h2 class="font-display text-xl font-semibold mb-4">7. Security Measures</h2>
          <p class="text-light-muted dark:text-dark-muted">
            The operator implements reasonable security measures to prevent leakage, loss, or damage of personal information.
          </p>
          <ul class="list-disc list-inside space-y-2 text-light-muted dark:text-dark-muted ml-4">
            <li>Minimization of access rights and strengthened authentication (multi-factor authentication, etc.)</li>
            <li>Device encryption, screen lock, and application of updates</li>
            <li>Established procedures for responding to suspicious access and incidents</li>
          </ul>
        </section>

        <section>
          <h2 class="font-display text-xl font-semibold mb-4">8. Disclosure Requests</h2>
          <p class="text-light-muted dark:text-dark-muted">
            Individuals may request disclosure, correction, addition, deletion, or suspension of use of their personal information.
            Please contact us using the information below. We will respond within a reasonable scope.
          </p>
        </section>

        <section>
          <h2 class="font-display text-xl font-semibold mb-4">9. Retention Period</h2>
          <p class="text-light-muted dark:text-dark-muted">
            The operator retains personal information only for the period necessary for the purpose of use, and properly deletes or disposes of it when no longer needed.
          </p>
        </section>

        <section>
          <h2 class="font-display text-xl font-semibold mb-4">10. Amendments</h2>
          <p class="text-light-muted dark:text-dark-muted">
            This policy may be amended by the operator as necessary in response to legal changes or operational modifications.
            Any amendments will be reflected in the last updated date on this page.
          </p>
        </section>

        <section>
          <h2 class="font-display text-xl font-semibold mb-4">Contact</h2>
          <p class="text-light-muted dark:text-dark-muted">
            For inquiries regarding this policy, please contact us at:
          </p>
          <a
            href={`mailto:${LINKS.email}`}
            class="inline-flex items-center gap-2 mt-4 text-accent-500 hover:text-accent-600 transition-colors"
          >
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
            </svg>
            {LINKS.email}
          </a>
        </section>
      </div>
    </div>

    <!-- Japanese Version -->
    <div id="content-ja" class="hidden">
      <h1 class="font-display text-3xl md:text-4xl font-bold mb-8">プライバシーポリシー</h1>
      <p class="text-lg text-light-muted dark:text-dark-muted mb-4">（個人事業主）</p>

      <div class="prose prose-neutral dark:prose-invert max-w-none space-y-8">
        <p class="text-light-muted dark:text-dark-muted">
          最終更新日: 2026年1月22日
        </p>

        <section>
          <h2 class="font-display text-xl font-semibold mb-4">1. 事業者情報</h2>
          <p class="text-light-muted dark:text-dark-muted">
            本ポリシーにおける個人情報取扱事業者は、以下のとおりです。
          </p>
          <ul class="list-disc list-inside space-y-2 text-light-muted dark:text-dark-muted ml-4">
            <li>事業者名：Susumu Tomita</li>
            <li>連絡先：<a href={`mailto:${LINKS.email}`} class="text-accent-500 hover:text-accent-600">{LINKS.email}</a></li>
          </ul>
        </section>

        <section>
          <h2 class="font-display text-xl font-semibold mb-4">2. 取得する情報</h2>
          <p class="text-light-muted dark:text-dark-muted">
            事業者は、本ウェブサイトおよび事業運営において、以下の情報を取得することがあります。
          </p>
          <ul class="list-decimal list-inside space-y-2 text-light-muted dark:text-dark-muted">
            <li>お問い合わせ時にご提供いただく情報（氏名、メールアドレス、会社名、問い合わせ内容等）</li>
            <li>アクセスログ等の情報（IPアドレス、ブラウザ種別、参照元、閲覧ページ、日時等）</li>
            <li>Cookie 等を用いて収集される情報（識別子、閲覧履歴等）</li>
          </ul>
        </section>

        <section>
          <h2 class="font-display text-xl font-semibold mb-4">3. 利用目的</h2>
          <p class="text-light-muted dark:text-dark-muted">
            事業者は、取得した情報を以下の目的で利用します。
          </p>
          <ul class="list-decimal list-inside space-y-2 text-light-muted dark:text-dark-muted">
            <li>お問い合わせへの対応および連絡のため</li>
            <li>サービスの提供、運営、改善のため</li>
            <li>不正アクセス等の防止およびセキュリティ確保のため</li>
            <li>法令または契約上の義務を履行するため</li>
          </ul>
        </section>

        <section>
          <h2 class="font-display text-xl font-semibold mb-4">4. Cookie 等の利用</h2>
          <p class="text-light-muted dark:text-dark-muted">
            本ウェブサイトでは、利便性向上やアクセス解析等のために Cookie 等を利用する場合があります。
            ブラウザ設定により Cookie を無効化することが可能ですが、一部機能が利用できなくなることがあります。
          </p>
        </section>

        <section>
          <h2 class="font-display text-xl font-semibold mb-4">5. 第三者提供</h2>
          <p class="text-light-muted dark:text-dark-muted">
            事業者は、法令に基づく場合または本人の同意がある場合を除き、個人情報を第三者に提供しません。
          </p>
        </section>

        <section>
          <h2 class="font-display text-xl font-semibold mb-4">6. 委託</h2>
          <p class="text-light-muted dark:text-dark-muted">
            事業者は、利用目的の達成に必要な範囲で、個人情報の取扱いを外部事業者に委託することがあります。
            この場合、委託先に対し適切な監督を行います。
          </p>
        </section>

        <section>
          <h2 class="font-display text-xl font-semibold mb-4">7. 安全管理措置</h2>
          <p class="text-light-muted dark:text-dark-muted">
            事業者は、個人情報の漏えい、滅失、毀損等を防止するため、合理的な安全管理措置を講じます。
          </p>
          <ul class="list-disc list-inside space-y-2 text-light-muted dark:text-dark-muted ml-4">
            <li>アクセス権の最小化、認証強化（多要素認証等）</li>
            <li>端末の暗号化、画面ロック、アップデートの適用</li>
            <li>不審なアクセスやインシデント発生時の対応手順の整備</li>
          </ul>
        </section>

        <section>
          <h2 class="font-display text-xl font-semibold mb-4">8. 開示等の請求</h2>
          <p class="text-light-muted dark:text-dark-muted">
            本人は、自己の個人情報について、開示、訂正、追加、削除、利用停止等を求めることができます。
            ご希望の場合は、下記の窓口までご連絡ください。合理的な範囲で対応します。
          </p>
        </section>

        <section>
          <h2 class="font-display text-xl font-semibold mb-4">9. 保管期間</h2>
          <p class="text-light-muted dark:text-dark-muted">
            事業者は、利用目的に必要な期間に限り個人情報を保管し、不要となった場合は適切に削除・廃棄します。
          </p>
        </section>

        <section>
          <h2 class="font-display text-xl font-semibold mb-4">10. 改定</h2>
          <p class="text-light-muted dark:text-dark-muted">
            本ポリシーは、法令の改正や運用の変更等に応じて、事業者が必要に応じて改定します。
            改定した場合は、本ページの最終更新日に反映します。
          </p>
        </section>

        <section>
          <h2 class="font-display text-xl font-semibold mb-4">Contact</h2>
          <p class="text-light-muted dark:text-dark-muted">
            本ポリシーに関するお問い合わせは、以下までご連絡ください。
          </p>
          <a
            href={`mailto:${LINKS.email}`}
            class="inline-flex items-center gap-2 mt-4 text-accent-500 hover:text-accent-600 transition-colors"
          >
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
            </svg>
            {LINKS.email}
          </a>
        </section>
      </div>
    </div>

    <div class="mt-12 pt-8 border-t border-light-border dark:border-dark-border">
      <a
        href="/"
        class="inline-flex items-center gap-2 text-light-muted dark:text-dark-muted hover:text-accent-500 transition-colors"
      >
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
        </svg>
        <span id="back-text-en">Back to Home</span>
        <span id="back-text-ja" class="hidden">ホームに戻る</span>
      </a>
    </div>
  </div>

  <script>
    const langEn = document.getElementById('lang-en');
    const langJa = document.getElementById('lang-ja');
    const contentEn = document.getElementById('content-en');
    const contentJa = document.getElementById('content-ja');
    const backTextEn = document.getElementById('back-text-en');
    const backTextJa = document.getElementById('back-text-ja');

    const activeClass = 'bg-accent-500 text-white';
    const inactiveClass = 'bg-light-surface dark:bg-dark-surface text-light-text dark:text-dark-text hover:bg-light-border dark:hover:bg-dark-border';

    function setLang(lang: string) {
      if (lang === 'en') {
        contentEn?.classList.remove('hidden');
        contentJa?.classList.add('hidden');
        backTextEn?.classList.remove('hidden');
        backTextJa?.classList.add('hidden');
        langEn?.classList.remove(...inactiveClass.split(' '));
        langEn?.classList.add(...activeClass.split(' '));
        langJa?.classList.remove(...activeClass.split(' '));
        langJa?.classList.add(...inactiveClass.split(' '));
      } else {
        contentEn?.classList.add('hidden');
        contentJa?.classList.remove('hidden');
        backTextEn?.classList.add('hidden');
        backTextJa?.classList.remove('hidden');
        langJa?.classList.remove(...inactiveClass.split(' '));
        langJa?.classList.add(...activeClass.split(' '));
        langEn?.classList.remove(...activeClass.split(' '));
        langEn?.classList.add(...inactiveClass.split(' '));
      }
      localStorage.setItem('policy-lang', lang);
    }

    // Initialize from localStorage or browser language
    const savedLang = localStorage.getItem('policy-lang');
    const browserLang = navigator.language.startsWith('ja') ? 'ja' : 'en';
    setLang(savedLang || browserLang);

    langEn?.addEventListener('click', () => setLang('en'));
    langJa?.addEventListener('click', () => setLang('ja'));
  </script>
</BaseLayout>
